{
  "info": {
    "author": null,
    "author_email": "Ilan Theodoro <ilan.silva@czbiohub.org>",
    "bugtrack_url": null,
    "classifiers": [
      "Development Status :: 3 - Alpha",
      "Framework :: napari",
      "Intended Audience :: Developers",
      "Intended Audience :: Science/Research",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3.10",
      "Programming Language :: Python :: 3.11",
      "Programming Language :: Python :: 3.12",
      "Programming Language :: Python :: 3.13",
      "Topic :: Scientific/Engineering :: Image Processing",
      "Topic :: Scientific/Engineering :: Visualization",
      "Topic :: Software Development :: Libraries :: Python Modules"
    ],
    "description": "# Napari MCP Server\n\n[![Tests](https://github.com/royerlab/napari-mcp/workflows/Tests/badge.svg)](https://github.com/royerlab/napari-mcp/actions)\n[![codecov](https://codecov.io/gh/royerlab/napari-mcp/graph/badge.svg?token=E1WY58V877)](https://codecov.io/gh/royerlab/napari-mcp)\n[![PyPI version](https://badge.fury.io/py/napari-mcp.svg)](https://badge.fury.io/py/napari-mcp)\n[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n\nMCP server for remote control of napari viewers via Model Context Protocol (MCP). Perfect for AI-assisted analysis with Claude Desktop.\n\n## \ud83d\ude80 Quick Start (Two Setup Methods)\n\n### Method 1: Add MCP JSON Configuration (Recommended)\n\nAdd this to your MCP client configuration. Clients will auto-launch the server.\n\n```json\n{\n  \"mcpServers\": {\n    \"napari\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"--with\", \"napari-mcp\", \"napari-mcp\"]\n    }\n  }\n}\n```\n\nSee the MCP JSON format standard: [MCP JSON Configuration](https://gofastmcp.com/integrations/mcp-json-configuration).\n\n### Method 2: Napari Plugin Bridge (External Viewer)\n\n1. Install: `pip install napari-mcp`\n2. Open napari \u2192 Plugins \u2192 MCP Server Control\n3. Click \u201cStart Server\u201d (default port 9999)\n4. Keep the same MCP JSON config as above so your AI app auto-starts and proxies to this external viewer\n\n### Development Install\n```bash\n# Clone and install\ngit clone https://github.com/royerlab/napari-mcp.git\ncd napari-mcp\nuv pip install -e .\n```\n\n**Claude Desktop config:** use the MCP JSON in Method 1 above.\n\n**Why uv run?**\n- \u2705 **Zero install** - No virtualenv or pip install required\n- \u2705 **Always up-to-date** - Pulls the latest published version\n- \u2705 **Reproducible** - uv caches and pins environments per command\n\n## \ud83e\udd16 Multi-LLM Support\n\nWorks with multiple AI assistants and IDEs:\n\n| Application | Status | Setup Method |\n|-------------|--------|--------------|\n| **Claude Desktop** | \u2705 Full Support | Manual config (recommended) |\n| **Claude Code** | \u2705 Full Support | `fastmcp install claude-code` |\n| **Cursor** | \u2705 Full Support | `fastmcp install cursor` |\n| **ChatGPT** | \ud83d\udfe1 Limited | Remote deployment only |\n\n**\u2192 See [LLM_INTEGRATIONS.md](LLM_INTEGRATIONS.md) for complete setup guides**\n\n## \ud83d\udd27 Alternative Installation Methods\n\n### Traditional Package Installation\n\n```bash\n# Clone and install\ngit clone https://github.com/royerlab/napari-mcp.git\ncd napari-mcp\npip install -e .\n\n# Run (optional for debugging only)\nnapari-mcp --help\n```\n\n\n\n### Development Installation\n\n```bash\n# With uv (recommended for development)\nuv pip install -e \".[test,dev]\"\n\n# With pip\npip install -e \".[test,dev]\"\n```\n\n**Requirements:**\n- Python 3.10+\n- napari 0.5.5+\n- Qt Backend (PyQt6 installed automatically)\n\n## \ud83d\udee0 Available MCP Tools\n\n### Session Information\n- `session_information()` - Get comprehensive session info including viewer state, layers, system details\n- `detect_viewers()` - Detect available local/external viewers\n\n### Layer Management\n- `list_layers()` - Get all layers and their properties\n- `add_image(path, name?, colormap?, blending?, channel_axis?)` - Add image layer from file\n- `add_labels(path, name?)` - Add segmentation labels from file\n- `add_points(points, name?, size?)` - Add point annotations\n- `remove_layer(name)` - Remove layer by name\n- `set_layer_properties(...)` - Modify layer visibility, opacity, colormap, etc.\n- `reorder_layer(name, index?|before?|after?)` - Change layer order\n- `set_active_layer(name)` - Set selected layer\n\n### Viewer Controls\n- `init_viewer(title?, width?, height?)` - Create/configure viewer and start GUI\n- `close_viewer()` - Close viewer window (also stops GUI)\n- `reset_view()` - Reset camera to fit all data\n- `set_camera(center?, zoom?, angle?)` - Position camera\n- `set_ndisplay(2|3)` - Switch between 2D/3D display\n- `set_dims_current_step(axis, value)` - Navigate dimensions (time, Z-stack)\n- `set_grid(enabled?)` - Enable/disable grid view\n\n### Utilities\n- `screenshot(canvas_only?)` - Capture PNG image as base64\n- `execute_code(code)` - Run Python with access to viewer, napari, numpy\n- `install_packages(packages, ...)` - Install Python packages dynamically\n- `read_output(output_id, start?, end?)` - Retrieve full/stdout/stderr from previous calls\n\n## \u26a0\ufe0f **IMPORTANT SECURITY WARNING**\n\n**This server includes powerful tools that allow arbitrary code execution:**\n\n- **`execute_code()`** - Runs any Python code in the server environment\n- **`install_packages()`** - Installs any Python package via pip\n\n**Security Implications:**\n- \u2705 **Safe for local development** with trusted AI assistants like Claude\n- \u274c **NEVER expose to untrusted networks** or public internet\n- \u274c **Do not use in production environments** without proper sandboxing\n- \u274c **Can access your filesystem, network, and install malware**\n\n**Recommended Usage:**\n- Use only on `localhost` connections\n- Run in isolated virtual environments\n- Only use with trusted AI assistants\n\n## \ud83d\udcd6 Usage Examples\n\n### Basic Layer Operations\n\n**Add and manipulate images:**\n```\nAsk Claude: \"Add a sample image to napari and set its colormap to 'viridis'\"\n```\n\n**Work with annotations:**\n```\nAsk Claude: \"Create some point annotations at coordinates [[100,100], [200,200]] and make them size 10\"\n```\n\n### Advanced Analysis\n\n**Execute custom code:**\n```\nAsk Claude: \"Execute this code to create a synthetic image:\nimport numpy as np\ndata = np.random.random((512, 512))\nviewer.add_image(data, name='random_noise')\"\n```\n\n**Install packages on-demand:**\n```\nAsk Claude: \"Install scipy and create a Gaussian filtered version of the current image\"\n```\n\n### View Management\n\n**Control the camera:**\n```\nAsk Claude: \"Reset the view, then zoom to 2x and center on coordinates [256, 256]\"\n```\n\n**Switch display modes:**\n```\nAsk Claude: \"Switch to 3D display mode and take a screenshot\"\n```\n\n## \ud83e\uddea Testing\n\n```bash\n# Fast suite (skips GUI)\npytest -q -m \"not realgui\"\n\n# Full suite with coverage (skips GUI)\npytest --cov=src --cov-report=html tests/ -m \"not realgui\"\n\n# Include GUI tests (requires a display)\npytest -m realgui\n```\n\n## \ud83e\udd1d Contributing\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/amazing-feature`)\n3. Make your changes with tests\n4. Run pre-commit hooks: `pre-commit run --all-files`\n5. Commit your changes (`git commit -m 'Add amazing feature'`)\n6. Push to the branch (`git push origin feature/amazing-feature`)\n7. Open a Pull Request\n\n**Development setup:**\n```bash\ngit clone https://github.com/royerlab/napari-mcp.git\ncd napari-mcp\nuv pip install -e \".[test,dev]\"\npre-commit install\n```\n\n## \ud83d\udccb Architecture\n\nThe server architecture consists of:\n\n- **FastMCP Server**: Handles MCP protocol communication\n- **Napari Integration**: Manages viewer lifecycle and operations\n- **Qt Event Loop**: Asynchronous GUI event processing\n- **Tool Layer**: Exposes napari functionality as MCP tools\n- **External Bridge (optional)**: Auto-detects and proxies to an existing napari viewer started from the plugin widget\n\nKey design decisions:\n- **Thread-safe**: All napari operations are serialized through locks\n- **Non-blocking**: Qt event loop runs asynchronously\n- **Stateful**: Maintains viewer state across tool calls\n- **Extensible**: Easy to add new tools and functionality\n\n## \ud83d\udcda Resources\n\n- **[Quick Start](docs/getting-started/quickstart.md)** - Get running in 2 minutes\n- **[LLM_INTEGRATIONS.md](LLM_INTEGRATIONS.md)** - Complete guide for Claude Desktop, Claude Code, Cursor, ChatGPT\n- **[Model Context Protocol](https://modelcontextprotocol.io/)** - MCP specification\n- **[FastMCP](https://github.com/jlowin/fastmcp)** - Python MCP framework\n- **[napari](https://napari.org/)** - Multi-dimensional image viewer\n- **[Claude Desktop](https://claude.ai/download)** - AI assistant with MCP support\n\n## \ud83d\udcc4 License\n\nMIT License - see [LICENSE](LICENSE) file for details.\n\n## \ud83d\ude4f Acknowledgments\n\n- [napari team](https://napari.org/) for the excellent imaging platform\n- [FastMCP](https://github.com/jlowin/fastmcp) for the MCP framework\n- [Anthropic](https://www.anthropic.com/) for Claude and MCP development\n- [astral-sh](https://astral.sh/) for uv dependency management\n\n---\n\n**Built with \u2764\ufe0f for the microscopy and AI communities**\n",
    "description_content_type": "text/markdown",
    "docs_url": null,
    "download_url": null,
    "downloads": {
      "last_day": -1,
      "last_month": -1,
      "last_week": -1
    },
    "dynamic": [
      "License-File"
    ],
    "home_page": null,
    "keywords": "napari, mcp, microscopy, image-analysis, ai, claude",
    "license": "MIT",
    "license_expression": null,
    "license_files": [
      "LICENSE"
    ],
    "maintainer": null,
    "maintainer_email": "Ilan Theodoro <ilan.silva@czbiohub.org>",
    "name": "napari-mcp",
    "package_url": "https://pypi.org/project/napari-mcp/",
    "platform": null,
    "project_url": "https://pypi.org/project/napari-mcp/",
    "project_urls": {
      "Bug Tracker": "https://github.com/royerlab/napari-mcp/issues",
      "Changelog": "https://github.com/royerlab/napari-mcp/blob/main/CHANGELOG.md",
      "Documentation": "https://github.com/royerlab/napari-mcp#readme",
      "Homepage": "https://github.com/royerlab/napari-mcp",
      "Repository": "https://github.com/royerlab/napari-mcp"
    },
    "provides_extra": [
      "test",
      "dev",
      "all"
    ],
    "release_url": "https://pypi.org/project/napari-mcp/0.0.3/",
    "requires_dist": [
      "fastmcp>=2.10.3",
      "napari>=0.5.5",
      "pyqt6>=6.5.0",
      "qtpy>=2.4.1",
      "Pillow>=10.3.0",
      "imageio>=2.34.0",
      "numpy>=1.26.0",
      "pytest>=8.4.0; extra == \"test\"",
      "pytest-asyncio>=0.23.0; extra == \"test\"",
      "pytest-cov>=4.0.0; extra == \"test\"",
      "pytest-qt>=4.0.0; extra == \"test\"",
      "pytest-xdist>=3.5.0; extra == \"test\"",
      "pytest-timeout>=2.2.0; extra == \"test\"",
      "pytest-benchmark>=4.0.0; extra == \"test\"",
      "pytest-mock>=3.12.0; extra == \"test\"",
      "pytest-random-order>=1.1.0; extra == \"test\"",
      "pytest-forked>=1.6.0; extra == \"test\"",
      "hypothesis>=6.100.0; extra == \"test\"",
      "napari[pyqt6,testing]; extra == \"test\"",
      "tox; extra == \"test\"",
      "ruff>=0.12.10; extra == \"dev\"",
      "mypy>=1.17.0; extra == \"dev\"",
      "types-Pillow>=10.0.0; extra == \"dev\"",
      "pre-commit>=4.3.0; extra == \"dev\"",
      "bandit>=1.8.6; extra == \"dev\"",
      "black>=24.0.0; extra == \"dev\"",
      "napari-mcp[dev,test]; extra == \"all\""
    ],
    "requires_python": ">=3.10",
    "summary": "MCP server for remote control of napari viewers via Model Context Protocol",
    "version": "0.0.3",
    "yanked": false,
    "yanked_reason": null
  },
  "last_serial": 31340119,
  "releases": {
    "0.0.1a0": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "ae2c9778c43c2a00d596b2f6e04006fb4f34dec6b31207cccb9a5e2b5fa57b17",
          "md5": "ab0f72f6a06dea54b02d20f477f1d588",
          "sha256": "5517636ce160b4175ccb3fb272be31a4cd7d8638db6e3c919f454b4ec4b05adf"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.1a0-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "ab0f72f6a06dea54b02d20f477f1d588",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 27680,
        "upload_time": "2025-09-15T17:44:44",
        "upload_time_iso_8601": "2025-09-15T17:44:44.929003Z",
        "url": "https://files.pythonhosted.org/packages/ae/2c/9778c43c2a00d596b2f6e04006fb4f34dec6b31207cccb9a5e2b5fa57b17/napari_mcp-0.0.1a0-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "90f07d6d97a67bed3cc5971febe36755cb3b6bf56785bc4ceee41fd627ac44c6",
          "md5": "43bcfc0280cfc965c7b89a6ca17c32b5",
          "sha256": "f35abc5a89762bad92488e13434971461e5f2a625c87d9698fb4037bdc24b81c"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.1a0.tar.gz",
        "has_sig": false,
        "md5_digest": "43bcfc0280cfc965c7b89a6ca17c32b5",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 331539,
        "upload_time": "2025-09-15T17:44:46",
        "upload_time_iso_8601": "2025-09-15T17:44:46.402718Z",
        "url": "https://files.pythonhosted.org/packages/90/f0/7d6d97a67bed3cc5971febe36755cb3b6bf56785bc4ceee41fd627ac44c6/napari_mcp-0.0.1a0.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.2": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "917b915ef88bc5cd73434ed23765ca6d243f995e236380729e1fc7db681337a7",
          "md5": "e650b28e1246abe7b2567a7a743c9fee",
          "sha256": "2235af037bb1f7ccd25424c3886f75a801308c51153ec2e7e97b9f50765b8a58"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.2-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "e650b28e1246abe7b2567a7a743c9fee",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 29625,
        "upload_time": "2025-09-16T22:25:16",
        "upload_time_iso_8601": "2025-09-16T22:25:16.390083Z",
        "url": "https://files.pythonhosted.org/packages/91/7b/915ef88bc5cd73434ed23765ca6d243f995e236380729e1fc7db681337a7/napari_mcp-0.0.2-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "12b28b1c1ee4526423efa9a2fad57651c6d5b07d63afcab48b8b8297352c3395",
          "md5": "6a3d7b7401b093e23da5ba6c4a56e413",
          "sha256": "027c40f31829ed98ec1393cee1ff0a6383af919aa7b7bcb6b75700465d99cf8d"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.2.tar.gz",
        "has_sig": false,
        "md5_digest": "6a3d7b7401b093e23da5ba6c4a56e413",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 315627,
        "upload_time": "2025-09-16T22:25:17",
        "upload_time_iso_8601": "2025-09-16T22:25:17.841350Z",
        "url": "https://files.pythonhosted.org/packages/12/b2/8b1c1ee4526423efa9a2fad57651c6d5b07d63afcab48b8b8297352c3395/napari_mcp-0.0.2.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ],
    "0.0.3": [
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "9c20191fd7311f4d7784f44ff1c39867cc98171abc8193920032c8d1e24f6807",
          "md5": "caa0fed9d45d77f75772cca0c6682252",
          "sha256": "951f1c07181bd684970817e04cc8aaeedfd0efba44ff320cfa7e3e59577a0229"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.3-py3-none-any.whl",
        "has_sig": false,
        "md5_digest": "caa0fed9d45d77f75772cca0c6682252",
        "packagetype": "bdist_wheel",
        "python_version": "py3",
        "requires_python": ">=3.10",
        "size": 31087,
        "upload_time": "2025-09-19T06:55:17",
        "upload_time_iso_8601": "2025-09-19T06:55:17.437287Z",
        "url": "https://files.pythonhosted.org/packages/9c/20/191fd7311f4d7784f44ff1c39867cc98171abc8193920032c8d1e24f6807/napari_mcp-0.0.3-py3-none-any.whl",
        "yanked": false,
        "yanked_reason": null
      },
      {
        "comment_text": null,
        "digests": {
          "blake2b_256": "7442cfc65018f982091e574e16d0b493572ee1d085734e799ddfce7e7963dae0",
          "md5": "4eb8e7f32053eebcffeb938c6695f3e2",
          "sha256": "15574db3aef0249c29adbc0bcf2116eee24970d53b0c9497565167c044569ff0"
        },
        "downloads": -1,
        "filename": "napari_mcp-0.0.3.tar.gz",
        "has_sig": false,
        "md5_digest": "4eb8e7f32053eebcffeb938c6695f3e2",
        "packagetype": "sdist",
        "python_version": "source",
        "requires_python": ">=3.10",
        "size": 312118,
        "upload_time": "2025-09-19T06:55:19",
        "upload_time_iso_8601": "2025-09-19T06:55:19.877684Z",
        "url": "https://files.pythonhosted.org/packages/74/42/cfc65018f982091e574e16d0b493572ee1d085734e799ddfce7e7963dae0/napari_mcp-0.0.3.tar.gz",
        "yanked": false,
        "yanked_reason": null
      }
    ]
  },
  "urls": [
    {
      "comment_text": null,
      "digests": {
        "blake2b_256": "9c20191fd7311f4d7784f44ff1c39867cc98171abc8193920032c8d1e24f6807",
        "md5": "caa0fed9d45d77f75772cca0c6682252",
        "sha256": "951f1c07181bd684970817e04cc8aaeedfd0efba44ff320cfa7e3e59577a0229"
      },
      "downloads": -1,
      "filename": "napari_mcp-0.0.3-py3-none-any.whl",
      "has_sig": false,
      "md5_digest": "caa0fed9d45d77f75772cca0c6682252",
      "packagetype": "bdist_wheel",
      "python_version": "py3",
      "requires_python": ">=3.10",
      "size": 31087,
      "upload_time": "2025-09-19T06:55:17",
      "upload_time_iso_8601": "2025-09-19T06:55:17.437287Z",
      "url": "https://files.pythonhosted.org/packages/9c/20/191fd7311f4d7784f44ff1c39867cc98171abc8193920032c8d1e24f6807/napari_mcp-0.0.3-py3-none-any.whl",
      "yanked": false,
      "yanked_reason": null
    },
    {
      "comment_text": null,
      "digests": {
        "blake2b_256": "7442cfc65018f982091e574e16d0b493572ee1d085734e799ddfce7e7963dae0",
        "md5": "4eb8e7f32053eebcffeb938c6695f3e2",
        "sha256": "15574db3aef0249c29adbc0bcf2116eee24970d53b0c9497565167c044569ff0"
      },
      "downloads": -1,
      "filename": "napari_mcp-0.0.3.tar.gz",
      "has_sig": false,
      "md5_digest": "4eb8e7f32053eebcffeb938c6695f3e2",
      "packagetype": "sdist",
      "python_version": "source",
      "requires_python": ">=3.10",
      "size": 312118,
      "upload_time": "2025-09-19T06:55:19",
      "upload_time_iso_8601": "2025-09-19T06:55:19.877684Z",
      "url": "https://files.pythonhosted.org/packages/74/42/cfc65018f982091e574e16d0b493572ee1d085734e799ddfce7e7963dae0/napari_mcp-0.0.3.tar.gz",
      "yanked": false,
      "yanked_reason": null
    }
  ],
  "vulnerabilities": []
}