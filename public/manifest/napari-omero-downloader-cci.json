{
  "name": "napari-omero-downloader-cci",
  "display_name": "Omero Downloader CCI",
  "visibility": "public",
  "icon": "",
  "categories": [],
  "schema_version": "0.2.1",
  "on_activate": null,
  "on_deactivate": null,
  "contributions": {
    "commands": [
      {
        "id": "napari-omero-downloader-cci.open_widget",
        "title": "OmeroDownloaderCCI",
        "python_name": "napari_omero_downloader_cci:OmeroDownloaderWidget",
        "short_title": null,
        "category": null,
        "icon": null,
        "enablement": null
      }
    ],
    "readers": null,
    "writers": null,
    "widgets": [
      {
        "command": "napari-omero-downloader-cci.open_widget",
        "display_name": "OmeroDownloaderWidget",
        "autogenerate": false
      }
    ],
    "sample_data": null,
    "themes": null,
    "menus": {},
    "submenus": null,
    "keybindings": null,
    "configuration": []
  },
  "package_metadata": {
    "metadata_version": "2.4",
    "name": "napari-omero-downloader-cci",
    "version": "0.3.0",
    "dynamic": [
      "license-file"
    ],
    "platform": null,
    "supported_platform": null,
    "summary": "A plugin that allows napari to connect to the Omero CCI server to visualize and download image data",
    "description": "# napari-omero-downloader-cci\n\n[![License MIT](https://img.shields.io/pypi/l/napari-omero-downloader-cci.svg?color=green)](https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/raw/main/LICENSE)\n[![PyPI](https://img.shields.io/pypi/v/napari-omero-downloader-cci.svg?color=green)](https://pypi.org/project/napari-omero-downloader-cci)\n[![Python Version](https://img.shields.io/pypi/pyversions/napari-omero-downloader-cci.svg?color=green)](https://python.org)\n[![tests](https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/workflows/tests/badge.svg)](https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/actions)\n[![codecov](https://codecov.io/gh/CCI-GU-Sweden/napari-omero-downloader-cci/branch/main/graph/badge.svg)](https://codecov.io/gh/CCI-GU-Sweden/napari-omero-downloader-cci)\n[![napari hub](https://img.shields.io/endpoint?url=https://api.napari-hub.org/shields/napari-omero-downloader-cci)](https://napari-hub.org/plugins/napari-omero-downloader-cci)\n[![npe2](https://img.shields.io/badge/plugin-npe2-blue?link=https://napari.org/stable/plugins/index.html)](https://napari.org/stable/plugins/index.html)\n[![Copier](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/copier-org/copier/master/img/badge/badge-grayscale-inverted-border-purple.json)](https://github.com/copier-org/copier)\n\nA plugin that allows napari to connect to the Omero CCI server to visualize and download image data.\n\n----------------------------------\n\nThis [napari] plugin was generated with [copier] using the [napari-plugin-template] (None).\n\n## Installation\n\n### First napari installation\n\nFirst install miniconda from conda forge: [https://conda-forge.org/download/]. This is mandatory!\n\nRecommanded, create an environment for napari, bundling both napari and omero.\n\n```shell\nconda create -n napari -c conda-forge napari omero-py pyqt --yes\nconda activate napari\nnapari\n```\n\nOr you can download from [github](https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/scripts) the install_napari_omero (bat for window, sh for Mac/Linux). This will also install the plugin!\n\n### Already python and napari installed\n\nIn this case, activate your environment and install Omero:\n\n```shell\nconda install -c conda-forge omero-py --yes\n```\n\n### Plugin installation\n\nYou can install the plugin through the napari plugin manager: Plugins -> Install/Uninstall Plugins.. -> search for 'omero'.\n\n![napari plugin](assets/napari_omero.png)\n\nThe plugin is named Omero Downloader CCI.\n\nOr you can install `napari-omero-downloader-cci` via [pip]:\n\n```shell\npip install napari-omero-downloader-cci\n```\n\nTo install latest development version :\n\n```shell\npip install git+https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci.git\n```\n\n\u2014 or, during development \u2014\n\n```shell\npip install -e .\n```\n\n## Running the plugin after Installation\n\nThe easy step: download from [github](https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/scripts) the start_napari (bat for window, sh for Mac/Linux) and run it. It should open python, activate the env then run napari (can take 10-30 seconds the first time!)\n\nOtherwise, open the conda-forge CLI, then:\n\n```shell\nconda activate napari\nnapari\n```\n\nThe plug will be in the plugin tab.\n\n![plugin](assets/plugin.png)\n\n## Plugin\n\nThe plugin requires that you have access to Omero with the following features:\n\n- CLI enable\n- OAuth enable (2FA token)\n\n### Why this plugin?\n\nAnother solution outside of this plugin is available: omero.insight ([openmicroscopy website](https://www.openmicroscopy.org/omero/downloads/)), as well as a FiJi plugin.\n\nHowever, they do not fullfill the prerequiste at the CCI: A simple tool to quickly visualize and download data while being secure with 2FA.\n\n### Login\n\nIn 'Options...', indicate the omero server address and port. The default is the one for the CCI at the University of Gothenburg.\n\n![options](assets/options.png)\n\nClick on the link, login on Omero and grab a key. This key is valid only for a certain amount of time and for this session. Generating a new key, or closing your session (via the 'Disconnect') will invalidate the key.\n\nEnter the key in the field and click on 'Connect'.\n\n![login](assets/login.png)\n\nThe square next to the connect button is indicating the connection status:\n\n- Red: not connected\n- Yellow: busy\n- Green: ready\n\n### Groups and users\n\nIf you are part of multiple group, you can change group with the drop down menu. If your Omero administrator allows it, you can also see the data of other people in the same group. If data are being imported on the Omero server, you may need to refresh the visualization to be able to see them.\n\n### Queuing data for download\n\nThe data will be organized as a hierachical tree. Project -> Database -> Image.\n\nClicking on the arrow allow you to reveal the contained data.\n\nDouble click to add the element in the 'Download Queue'. Double clicking on a project will queue the whole project. Same for a dataset. However, double clicking on one image will download only this image.\n\nThere is a color on the 'OMERO Data' as well:\n\n- Green: will download all the child of the element\n- Yellow: will partially download the child of the element\n\nYou can remove an element by double clicking on it in the 'Download queue'.\n\n![trees](assets/tree.png)\n\n### Data Visualization\n\nIt is possible to visualize the selected data (in the 'OMERO Data' tree) by clicking on the 'Visualize' button. This will download and display only one plane (first time point, middle of stack in case of multi-dimensional image). It is possible to scroll the data, but keep in mind that this is streamed from the Omero server. Do not expect high performance specially if the image is large!\n\n![visualize](assets/visualize.png)\n\n### Data Downloading\n\nTo download the data that are queued, select a directory to save them (with the 'Browse...' button) then it the 'Download' button.\n\nThe data will be organized in a similar way that they are on the Omero server. If you have a key-value pair called 'Folder' associated to an image, the image will be nested on level deeper, in this folder.\n\nIn option, if download attachement and key-value pair is enable, these files will also be downloaded alongside the image.\n\n![progressbar](assets/progressbar.png)\n\n![folder](assets/folder.png)\n\n### Data deletion\n\nThis napari plugin is **NOT** allowed to delete data on the Omero server. If you need to delete data, you should do it via Omero.web.\n\n## Warning about standalone napari\n\nA standalone version of napari is available, and the plugin will be available on the napari hub. However, installation through the standalone app is not recommanded, since it relies on pip which does not distribute system ready dependancy for Ice.\n\nYou are welcome to write a protocol/procedure on how to install omero and ice with pip.\n\n## Contributing\n\nContributions are very welcome. Tests can be run with [tox], please ensure\nthe coverage at least stays the same before you submit a pull request.\n\n## License\n\nDistributed under the terms of the [MIT] license,\n\"napari-omero-downloader-cci\" is free and open source software\n\n## Issues\n\nIf you encounter any problems, please [file an issue] along with a detailed description.\n\n[napari]: https://github.com/napari/napari\n[copier]: https://copier.readthedocs.io/en/stable/\n[MIT]: http://opensource.org/licenses/MIT\n[napari-plugin-template]: https://github.com/napari/napari-plugin-template\n[file an issue]: https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/issues\n[tox]: https://tox.readthedocs.io/en/latest/\n[pip]: https://pypi.org/project/pip/\n",
    "description_content_type": "text/markdown",
    "keywords": null,
    "home_page": null,
    "download_url": null,
    "author": "Simon Leclerc",
    "author_email": "simon.leclerc@gu.se",
    "maintainer": null,
    "maintainer_email": null,
    "license": "The MIT License (MIT)\n\nCopyright (c) 2025 Simon Leclerc\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n",
    "classifier": [
      "Development Status :: 2 - Pre-Alpha",
      "Framework :: napari",
      "Intended Audience :: Developers",
      "License :: OSI Approved :: MIT License",
      "Operating System :: OS Independent",
      "Programming Language :: Python",
      "Programming Language :: Python :: 3",
      "Programming Language :: Python :: 3 :: Only",
      "Programming Language :: Python :: 3.9",
      "Topic :: Scientific/Engineering :: Image Processing"
    ],
    "requires_dist": [
      "numpy",
      "magicgui",
      "qtpy",
      "scikit-image",
      "dask",
      "napari[all]; extra == \"all\""
    ],
    "requires_python": ">=3.9",
    "requires_external": null,
    "project_url": [
      "Bug Tracker, https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/issues",
      "Documentation, https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci#README.md",
      "Source Code, https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci",
      "User Support, https://github.com/CCI-GU-Sweden/napari-omero-downloader-cci/issues"
    ],
    "provides_extra": [
      "all"
    ],
    "provides_dist": null,
    "obsoletes_dist": null
  },
  "npe1_shim": false
}